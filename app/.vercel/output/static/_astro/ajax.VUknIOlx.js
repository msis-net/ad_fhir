import{_ as _export_sfc}from"./_plugin-vue_export-helper.x3n3nnut.js";import{f as defineComponent,o as openBlock,c as createElementBlock,a as createBaseVNode}from"./runtime-core.esm-bundler.0gmOEVEH.js";const _sfc_main=defineComponent({__name:"ajax",setup(__props,{expose:__expose}){__expose();const getAcceptList=()=>{console.log("yyyymmdd:");let e=new XMLHttpRequest;e.open("GET","/orca/acceptlstv2/2024/acceptlstv2_20240122.json",!0),e.onreadystatechange=function(){e.readyState===4?e.status===200?console.log("xhr.status",e.responseText):console.log("Error!"):console.log("Connecting...")},e.send(null)},CallPerformScript=()=>{try{let result={post:"sss1580083",address:"東京都世田谷区奥沢６丁目",addresskana:"トウキョウトセタガヤクオクザワ６チョウメ"};Dummy(result),eval('FileMaker.PerformScript ("AlertAddress", JSON.stringify(result))')}catch(e){console.log("Not Claris FileMaker Platform！")}};function Dummy(e){return console.log(e),e}const xhrTEST=()=>{let e=new XMLHttpRequest;e.open("GET","utf_all.csv",!0),e.onreadystatechange=function(){if(e.readyState===4)if(e.status===200){let t=[];t=SetData(e.responseText),console.log(t),alert(Object.keys(t).length)}else console.log("Error!");else console.log("Connecting...")},e.send(null)},fetchTEST=()=>{fetch("./utf_all.csv").then(t=>t.text()).then(t=>{console.log("csvdata:"+t);let n=[];n=SetData(t),alert(Object.keys(n).length)})};function SetData(e){let t=[],n=e.split(/\r\n|\n/);console.log(e.length,n.length);for(let l in n){let o=n[l].replace(/\"/g,"").split(","),r={id:l,localcd:o[0],post5:o[1],post:o[2],prefkana:o[3],citykana:o[4],townkana:o[5],prefname:o[6],cityname:o[7],townname:o[8],flg1:o[9],flg2:o[10],flg3:o[11],flg4:o[12],flg5:o[13],flg6:o[14],kencd:o[0].substr(0,2)};t.push(r)}return t}const __returned__={getAcceptList,CallPerformScript,Dummy,xhrTEST,fetchTEST,SetData};return Object.defineProperty(__returned__,"__isScriptSetup",{enumerable:!1,value:!0}),__returned__}});function _sfc_render(e,t,n,l,s,o){return openBlock(),createElementBlock("div",null,[createBaseVNode("nav",null,[createBaseVNode("button",{role:"button",onClick:t[0]||(t[0]=r=>l.xhrTEST())}," xhrTEST "),createBaseVNode("button",{role:"button",onClick:t[1]||(t[1]=r=>l.fetchTEST())}," fetch CSV "),createBaseVNode("button",{role:"button",onClick:t[2]||(t[2]=r=>l.CallPerformScript())}," Call PerformScript "),createBaseVNode("button",{role:"button",onClick:t[3]||(t[3]=r=>l.getAcceptList())}," getAcceptList ")])])}const ajax=_export_sfc(_sfc_main,[["render",_sfc_render]]);export{ajax as default};
