import{o as v}from"./index.f-_o0X6U.js";import{a as _}from"./index.rS7vpNfE.js";import{_ as m}from"./_plugin-vue_export-helper.x3n3nnut.js";import{f as w,o as E,c as L,a as c,t as y}from"./runtime-core.esm-bundler.0gmOEVEH.js";import{u as S}from"./index.vYr-zy7v.js";let p=e=>e,i={},a={addEventListener(){},removeEventListener(){}};function k(){try{return typeof localStorage<"u"}catch{return!1}}k()&&(i=localStorage);let b={addEventListener(e,n,t){window.addEventListener("storage",n),window.addEventListener("pageshow",t)},removeEventListener(e,n,t){window.removeEventListener("storage",n),window.removeEventListener("pageshow",t)}};typeof window<"u"&&(a=b);function x(e,n=void 0,t={}){let l=t.encode||p,s=t.decode||p,r=_(n),d=r.set;r.set=o=>{typeof o>"u"?delete i[e]:i[e]=l(o),d(o)};function g(o){o.key===e?o.newValue===null?d(void 0):d(s(o.newValue)):i[e]||d(void 0)}function u(){r.set(i[e]?s(i[e]):n)}return v(r,()=>{if(u(),t.listen!==!1)return a.addEventListener(e,g,u),()=>{a.removeEventListener(e,g,u)}}),r}const f=x("loginStatus","loggedOut");console.log("a",f.value);const B=w({__name:"persisVue",setup(e,{expose:n}){n();const t=S(f);console.log(t.value);const s={status:t,toggleLogin:()=>{console.log("toggleLogin:"),f.set(t.value==="loggedIn"?"loggedOut":"loggedIn")}};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}});function O(e,n,t,l,s,r){return E(),L("div",null,[c("nav",null,[c("button",{role:"button",onClick:n[0]||(n[0]=d=>l.toggleLogin())},y(l.status),1)])])}const P=m(B,[["render",O]]);export{P as default};
